{"is_source_file": true, "format": "Python", "description": "This Python source file defines the SentimentService class which fetches news articles via the NewsAPI, performs naive sentiment analysis based on presence of positive and negative words, and returns articles annotated with sentiment scores.", "external_files": ["src.schemas"], "external_methods": ["httpx.Client", "httpx.Client.get", "log.warning", "log.error"], "published": ["SentimentService", "NewsArticle"], "classes": [{"name": "SentimentService", "description": "A service class that fetches news articles using NewsAPI and computes naive sentiment scores based on article content."}], "methods": [{"name": "__init__(self, api_key: Optional[str])", "description": "Initializes the SentimentService with an optional API key.", "scope": "SentimentService", "scopeKind": "class"}, {"name": "float _score(self, text: str)", "description": "Calculates a naive sentiment score for the provided text based on presence of positive and negative words.", "scope": "SentimentService", "scopeKind": "class"}, {"name": "List[NewsArticle] fetch_and_score(self, query: str, page_size: int = 10, language: str = \"en\")", "description": "Fetches news articles matching a query from the NewsAPI and assigns each an embedded sentiment score.", "scope": "SentimentService", "scopeKind": "class"}], "calls": ["httpx.Client", "client.get", "resp.raise_for_status", "resp.json"], "search-terms": ["SentimentService", "fetch_and_score", "NewsAPI", "naive sentiment analysis", "httpx", "positive words", "negative words"], "state": 2, "file_id": 15, "knowledge_revision": 67, "git_revision": "e0344d12fb497a7f91a5ffa4956848ab6e1f28ce", "revision_history": [{"35": ""}, {"67": "e0344d12fb497a7f91a5ffa4956848ab6e1f28ce"}], "ctags": [{"_type": "tag", "name": "NEGATIVE_WORDS", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^NEGATIVE_WORDS = {\"miss\", \"falls\", \"slump\", \"plunge\", \"down\", \"bear\", \"negative\", \"loss\", \"weak\"/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "POSITIVE_WORDS", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^POSITIVE_WORDS = {\"beat\", \"beats\", \"surge\", \"soar\", \"rally\", \"gain\", \"up\", \"bull\", \"positive\", \"/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SentimentService", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^class SentimentService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def __init__(self, api_key: Optional[str]):$/", "language": "Python", "kind": "member", "signature": "(self, api_key: Optional[str])", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "_score", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def _score(self, text: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "member", "signature": "(self, text: str)", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "fetch_and_score", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def fetch_and_score(self, query: str, page_size: int = 10, language: str = \"en\") -> List[New/", "language": "Python", "typeref": "typename:List[NewsArticle]", "kind": "member", "signature": "(self, query: str, page_size: int = 10, language: str = \"en\")", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^logger = logging.getLogger(\"trading_bot.sentiment\")$/", "language": "Python", "kind": "variable"}], "hash": "b547036513cc4fe1e927b9dfaee3c253", "format-version": 4, "code-base-name": "trading_bot_backend", "filename": "trading_bot_backend/src/services/sentiment_service.py", "fields": [{"name": "NEGATIVE_WORDS = {\"miss\", \"falls\", \"slump\", \"plunge\", \"down\", \"bear\", \"negative\", \"loss\", \"weak\"/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "POSITIVE_WORDS = {\"beat\", \"beats\", \"surge\", \"soar\", \"rally\", \"gain\", \"up\", \"bull\", \"positive\", \"/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"trading_bot.sentiment\")", "scope": "", "scopeKind": "", "description": "unavailable"}]}