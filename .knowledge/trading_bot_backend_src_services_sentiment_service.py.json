{"is_source_file": true, "format": "Python", "description": "This file implements a sentiment analysis service within a trading bot project. It fetches news articles via NewsAPI and performs naive sentiment scoring based on presence of positive and negative words.", "external_files": ["src/config/settings", "src/schemas"], "external_methods": ["httpx.Client", "logger.warning", "logger.error"], "published": ["SentimentService"], "classes": [{"name": "SentimentService", "description": "A class responsible for fetching news articles and evaluating their sentiment scores using a simple keyword-based approach."}], "methods": [{"name": "__init__(self, api_key: Optional[str])", "description": "Initializes the SentimentService with an optional API key.", "scope": "SentimentService", "scopeKind": "class"}, {"name": "float _score(self, text: str)", "description": "Calculates a naive sentiment score for the provided text based on predefined positive and negative word sets.", "scope": "SentimentService", "scopeKind": "class"}, {"name": "List[NewsArticle] fetch_and_score(self, query: str, page_size: int = 10, language: str = \"en\")", "description": "Fetches news articles based on a query and computes sentiment scores for each article.", "scope": "SentimentService", "scopeKind": "class"}], "calls": ["httpx.Client", "client.get", "resp.raise_for_status", "resp.json()", "logger.warning", "logger.error"], "search-terms": ["sentiment_service", "fetch_and_score", "newsapi", "naive sentiment scoring", "articles", "positive and negative words"], "state": 2, "file_id": 15, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "NEGATIVE_WORDS", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^NEGATIVE_WORDS = {\"miss\", \"falls\", \"slump\", \"plunge\", \"down\", \"bear\", \"negative\", \"loss\", \"weak\"/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "POSITIVE_WORDS", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^POSITIVE_WORDS = {\"beat\", \"beats\", \"surge\", \"soar\", \"rally\", \"gain\", \"up\", \"bull\", \"positive\", \"/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SentimentService", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^class SentimentService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def __init__(self, api_key: Optional[str]):$/", "language": "Python", "kind": "member", "signature": "(self, api_key: Optional[str])", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "_score", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def _score(self, text: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "member", "signature": "(self, text: str)", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "fetch_and_score", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^    def fetch_and_score(self, query: str, page_size: int = 10, language: str = \"en\") -> List[New/", "language": "Python", "typeref": "typename:List[NewsArticle]", "kind": "member", "signature": "(self, query: str, page_size: int = 10, language: str = \"en\")", "scope": "SentimentService", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/autonomous-trading-bot-with-news-sentiment-analysis-217592-217603/trading_bot_backend/src/services/sentiment_service.py", "pattern": "/^logger = logging.getLogger(\"trading_bot.sentiment\")$/", "language": "Python", "kind": "variable"}], "hash": "d881c8fe83247ca703719a2f3c919323", "format-version": 4, "code-base-name": "trading_bot_backend", "filename": "trading_bot_backend/src/services/sentiment_service.py", "fields": [{"name": "NEGATIVE_WORDS = {\"miss\", \"falls\", \"slump\", \"plunge\", \"down\", \"bear\", \"negative\", \"loss\", \"weak\"/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "POSITIVE_WORDS = {\"beat\", \"beats\", \"surge\", \"soar\", \"rally\", \"gain\", \"up\", \"bull\", \"positive\", \"/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"trading_bot.sentiment\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"35": ""}]}